Title: WebGL2 –†–∏—Å–æ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö
Description: –ö—Ä–µ–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - –†–∏—Å–æ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö
TOC: –†–∏—Å–æ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö

–≠—Ç–∞ —Å—Ç–∞—Ç—å—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –≤—ã –ø—Ä–æ—á–∏—Ç–∞–ª–∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç—å–∏,
–Ω–∞—á–∏–Ω–∞—è —Å [–æ—Å–Ω–æ–≤](webgl-fundamentals.html).
–ï—Å–ª–∏ –≤—ã –∏—Ö –Ω–µ —á–∏—Ç–∞–ª–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—á–Ω–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Å –Ω–∏—Ö.

–í [—Å—Ç–∞—Ç—å–µ –æ —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö WebGL –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö](webgl-smallest-programs.html)
–º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å –æ—á–µ–Ω—å –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞.
–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∏—Å–æ–≤–∞–Ω–∏–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö.

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ WebGL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–º–µ—â–∞—é—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä—ã.
–ó–∞—Ç–µ–º –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω –∏–∑ —ç—Ç–∏—Ö –±—É—Ñ–µ—Ä–æ–≤
–≤ —à–µ–π–¥–µ—Ä—ã –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏—Ö –≤ clip space.

–°–ª–æ–≤–æ **—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ** –≤–∞–∂–Ω–æ. –≠—Ç–æ —Ç–æ–ª—å–∫–æ **—Ç—Ä–∞–¥–∏—Ü–∏—è**
–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º. –≠—Ç–æ –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ. WebGL –Ω–µ
–∑–∞–±–æ—Ç–∏—Ç—Å—è –æ —Ç–æ–º, –∫–∞–∫ –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º, –æ–Ω –∑–∞–±–æ—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ —Ç–æ–º, —á—Ç–æ –Ω–∞—à–∏ –≤–µ—Ä—à–∏–Ω–Ω—ã–µ —à–µ–π–¥–µ—Ä—ã
–ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã clip space `gl_Position`.

–í GLSL ES 3.0 –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `gl_VertexID`,
–¥–æ—Å—Ç—É–ø–Ω–∞—è –≤ –≤–µ—Ä—à–∏–Ω–Ω—ã—Ö —à–µ–π–¥–µ—Ä–∞—Ö. –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç –≤–µ—Ä—à–∏–Ω—ã.
–î–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π –≤–µ—Ä—à–∏–Ω –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö.
–ú—ã –≤—ã—á–∏—Å–ª–∏–º —Ç–æ—á–∫–∏ –∫—Ä—É–≥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

```glsl
#version 300 es
uniform int numVerts;

#define PI radians(180.0)

void main() {
  float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float angle = u * PI * 2.0;                      // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 2PI
  float radius = 0.8;

  vec2 pos = vec2(cos(angle), sin(angle)) * radius;
  
  gl_Position = vec4(pos, 0, 1);
  gl_PointSize = 5.0;
}
```

–ö–æ–¥ –≤—ã—à–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º.
`gl_VertexID` –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å –æ—Ç 0 –¥–æ —Ç–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
–≤–µ—Ä—à–∏–Ω, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø—Ä–æ—Å–∏–º –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å. –ú—ã –ø–µ—Ä–µ–¥–∞–¥–∏–º —Ç–æ –∂–µ —á–∏—Å–ª–æ
–∫–∞–∫ `numVerts`.
–ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –º—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –∫—Ä—É–≥–∞.

–ï—Å–ª–∏ –±—ã –º—ã –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å —Ç–∞–º, –∫—Ä—É–≥ –±—ã–ª –±—ã —ç–ª–ª–∏–ø—Å–æ–º,
–ø–æ—Ç–æ–º—É —á—Ç–æ clip space –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω (–∏–¥–µ—Ç –æ—Ç -1 –¥–æ 1)
–ø–æ–ø–µ—Ä–µ–∫ –∏ –≤–Ω–∏–∑ –ø–æ canvas. –ï—Å–ª–∏ –º—ã –ø–µ—Ä–µ–¥–∞–¥–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ,
–º—ã –º–æ–∂–µ–º —É—á–µ—Å—Ç—å, —á—Ç–æ -1 –¥–æ 1 –ø–æ–ø–µ—Ä–µ–∫ –º–æ–∂–µ—Ç –Ω–µ
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ –∂–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —á—Ç–æ –∏ -1 –¥–æ 1 –≤–Ω–∏–∑ –ø–æ canvas.

```glsl
#version 300 es
uniform int numVerts;
uniform vec2 resolution;

#define PI radians(180.0)

void main() {
  float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float angle = u * PI * 2.0;                      // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 2PI
  float radius = 0.8;

  vec2 pos = vec2(cos(angle), sin(angle)) * radius;
  
  float aspect = resolution.y / resolution.x;
  vec2 scale = vec2(aspect, 1);
  
  gl_Position = vec4(pos * scale, 0, 1);
  gl_PointSize = 5.0;
}
```

–ò –Ω–∞—à —Ñ—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–π —à–µ–π–¥–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ —Ä–∏—Å–æ–≤–∞—Ç—å —Å–ø–ª–æ—à–Ω–æ–π —Ü–≤–µ—Ç

```glsl
#version 300 es
precision highp float;

out vec4 outColor;

void main() {
  outColor = vec4(1, 0, 0, 1);
}
```

–í –Ω–∞—à–µ–º JavaScript –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º —à–µ–π–¥–µ—Ä –∏ –Ω–∞–π–¥–µ–º uniforms,

```js
// –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GLSL –ø—Ä–æ–≥—Ä–∞–º–º—ã
const program = webglUtils.createProgramFromSources(gl, [vs, fs]);
const numVertsLoc = gl.getUniformLocation(program, 'numVerts');
const resolutionLoc = gl.getUniformLocation(program, 'resolution');
```

–ò –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É,
—É—Å—Ç–∞–Ω–æ–≤–∏–º uniforms `resolution` –∏ `numVerts`, –∏ –Ω–∞—Ä–∏—Å—É–µ–º —Ç–æ—á–∫–∏.

```js
gl.useProgram(program);

const numVerts = 20;

// —Å–∫–∞–∑–∞—Ç—å —à–µ–π–¥–µ—Ä—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω
gl.uniform1i(numVertsLoc, numVerts);
// —Å–∫–∞–∑–∞—Ç—å —à–µ–π–¥–µ—Ä—É —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
gl.uniform2f(resolutionLoc, gl.canvas.width, gl.canvas.height);

const offset = 0;
gl.drawArrays(gl.POINTS, offset, numVerts);
```

–ò –º—ã –ø–æ–ª—É—á–∞–µ–º –∫—Ä—É–≥ –∏–∑ —Ç–æ—á–µ–∫.

{{{example url="../webgl-no-data-point-circle.html"}}}

–ü–æ–ª–µ–∑–Ω–∞ –ª–∏ —ç—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞? –ù—É, —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –∫–æ–¥–æ–º
–º—ã –º–æ–≥–ª–∏ –±—ã —Å–¥–µ–ª–∞—Ç—å –∑–≤–µ–∑–¥–Ω–æ–µ –ø–æ–ª–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π —ç—Ñ—Ñ–µ–∫—Ç –¥–æ–∂–¥—è —Å
–ø–æ—á—Ç–∏ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º —Ä–∏—Å–æ–≤–∞–Ω–∏—è.

–î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –¥–æ–∂–¥—å, –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –°–Ω–∞—á–∞–ª–∞ –º—ã
–∏–∑–º–µ–Ω–∏–º –≤–µ—Ä—à–∏–Ω–Ω—ã–π —à–µ–π–¥–µ—Ä –Ω–∞

```glsl
#version 300 es
uniform int numVerts;
uniform float time;

void main() {
  float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float x = u * 2.0 - 1.0;                         // -1 –¥–æ 1
  float y = fract(time + u) * -2.0 + 1.0;          // 1.0 ->  -1.0

  gl_Position = vec4(x, y, 0, 1);
  gl_PointSize = 5.0;
}
```

–î–ª—è —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ uniform `time`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—Ä–µ–º–µ–Ω–µ–º
–≤ —Å–µ–∫—É–Ω–¥–∞—Ö —Å –º–æ–º–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–î–ª—è 'x' –º—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–π–¥–µ–º –æ—Ç -1 –¥–æ 1

–î–ª—è 'y' –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `time + u`, –Ω–æ `fract` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
—Ç–æ–ª—å–∫–æ –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å, —Ç–∞–∫ —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0.0 –¥–æ 1.0.
–†–∞—Å—à–∏—Ä—è—è —ç—Ç–æ –¥–æ 1.0 –¥–æ -1.0, –º—ã –ø–æ–ª—É—á–∞–µ–º y, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
—Å–æ –≤—Ä–µ–º–µ–Ω–µ–º, –Ω–æ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–º–µ—â–µ–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–π
—Ç–æ—á–∫–∏.

–î–∞–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–∏–º —Ü–≤–µ—Ç –Ω–∞ —Å–∏–Ω–∏–π –≤ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–Ω–æ–º —à–µ–π–¥–µ—Ä–µ.

```glsl
precision highp float;

out vec4 outColor;

void main() {
  outColor = vec4(0, 0, 1, 1);
}
```

–ó–∞—Ç–µ–º –≤ JavaScript –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ uniform –≤—Ä–µ–º–µ–Ω–∏

```js
// –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GLSL –ø—Ä–æ–≥—Ä–∞–º–º—ã
const program = webglUtils.createProgramFromSources(gl, [vs, fs]);
const numVertsLoc = gl.getUniformLocation(program, 'numVerts');
const timeLoc = gl.getUniformLocation(program, 'time');
```

–ò –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–æ–¥ –≤ [–∞–Ω–∏–º–∞—Ü–∏—é](webgl-animation.html),
—Å–æ–∑–¥–∞–≤ —Ü–∏–∫–ª —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–≤ uniform `time`.

```js
function render(time) {
  time *= 0.001;  // –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —Å–µ–∫—É–Ω–¥—ã

  webglUtils.resizeCanvasToDisplaySize(gl.canvas);
  gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);

  gl.useProgram(program);

  const numVerts = 20;

  // —Å–∫–∞–∑–∞—Ç—å —à–µ–π–¥–µ—Ä—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω
  gl.uniform1i(numVertsLoc, numVerts);
  // —Å–∫–∞–∑–∞—Ç—å —à–µ–π–¥–µ—Ä—É –≤—Ä–µ–º—è
  gl.uniform1f(timeLoc, time);

  const offset = 0;
  gl.drawArrays(gl.POINTS, offset, numVerts);
} 
```

{{{example url="../webgl-no-data-point-rain-linear.html"}}}

–≠—Ç–æ –¥–∞–µ—Ç –Ω–∞–º POINTS, –∏–¥—É—â–∏–µ –≤–Ω–∏–∑ –ø–æ —ç–∫—Ä–∞–Ω—É, –Ω–æ –æ–Ω–∏ –≤—Å–µ
–≤ –ø–æ—Ä—è–¥–∫–µ. –ù–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å. –í GLSL –Ω–µ—Ç
–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á—Ç–æ-—Ç–æ, —á—Ç–æ –∫–∞–∂–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª—É—á–∞–π–Ω—ã–º.

–í–æ—Ç –æ–¥–Ω–∞

```glsl
// hash —Ñ—É–Ω–∫—Ü–∏—è –∏–∑ https://www.shadertoy.com/view/4djSRW
// –¥–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É 0 –∏ 1
// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É 0 –∏ 1, –∫–æ—Ç–æ—Ä–æ–µ *–≤—ã–≥–ª—è–¥–∏—Ç* –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª—É—á–∞–π–Ω—ã–º
float hash(float p) {
  vec2 p2 = fract(vec2(p * 5.3983, p * 5.4427));
  p2 += dot(p2.yx, p2.xy + vec2(21.5351, 14.3137));
  return fract(p2.x * p2.y * 95.4337);
}
```

–∏ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ —Ç–∞–∫

```glsl
void main() {
  float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float x = hash(u) * 2.0 - 1.0;                   // —Å–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
  float y = fract(time + u) * -2.0 + 1.0;          // 1.0 ->  -1.0

  gl_Position = vec4(x, y, 0, 1);
  gl_PointSize = 2.0;
}
```

–ú—ã –ø–µ—Ä–µ–¥–∞–µ–º `hash` –Ω–∞—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 1, –∏ –æ–Ω–æ –¥–∞–µ—Ç –Ω–∞–º
–æ–±—Ä–∞—Ç–Ω–æ –ø—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 1.

–î–∞–≤–∞–π—Ç–µ —Ç–∞–∫–∂–µ —Å–¥–µ–ª–∞–µ–º —Ç–æ—á–∫–∏ –º–µ–Ω—å—à–µ

```glsl
  gl_Position = vec4(x, y, 0, 1);
  gl_PointSize = 2.0;
```

–ò —É–≤–µ–ª–∏—á–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∏—Å—É–µ–º

```js
const numVerts = 400;
```

–ò —Å —ç—Ç–∏–º –º—ã –ø–æ–ª—É—á–∞–µ–º

{{{example url="../webgl-no-data-point-rain.html"}}}

–ï—Å–ª–∏ –≤—ã –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—á–µ–Ω—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ, –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –¥–æ–∂–¥—å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.
–ò—â–∏—Ç–µ –∫–∞–∫—É—é-—Ç–æ –≥—Ä—É–ø–ø—É —Ç–æ—á–µ–∫ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –æ–Ω–∏ –ø–∞–¥–∞—é—Ç —Å
–Ω–∏–∑–∞ –∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ —Å–≤–µ—Ä—Ö—É.
–ï—Å–ª–∏ –±—ã –Ω–∞ –∑–∞–¥–Ω–µ–º –ø–ª–∞–Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –±–æ–ª—å—à–µ, –∫–∞–∫ –µ—Å–ª–∏ –±—ã
—ç—Ç–æ—Ç –¥–µ—à–µ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç –¥–æ–∂–¥—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª –ø–æ–≤–µ—Ä—Ö 3D –∏–≥—Ä—ã,
–≤–æ–∑–º–æ–∂–Ω–æ, –Ω–∏–∫—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–º–µ—Ç–∏–ª –±—ã, —á—Ç–æ –æ–Ω –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è.

–ú—ã –º–æ–∂–µ–º –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ, –¥–æ–±–∞–≤–∏–≤ –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏.

```glsl
void main() {
  float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float off = floor(time + u) / 1000.0;           // –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –≤–µ—Ä—à–∏–Ω—É
  float x = hash(u + off) * 2.0 - 1.0;            // —Å–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
  float y = fract(time + u) * -2.0 + 1.0;         // 1.0 ->  -1.0

  gl_Position = vec4(x, y, 0, 1);
  gl_PointSize = 2.0;
}
```

–í –∫–æ–¥–µ –≤—ã—à–µ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ `off`. –ü–æ—Å–∫–æ–ª—å–∫—É –º—ã –≤—ã–∑—ã–≤–∞–µ–º `floor`,
–∑–Ω–∞—á–µ–Ω–∏–µ `floor(time + u)` –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–∞–≤–∞—Ç—å –Ω–∞–º
—Å–µ–∫—É–Ω–¥–Ω—ã–π —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É –¥–ª—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω—ã.
–≠—Ç–æ —Å–º–µ—â–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å –∫–æ–¥–æ–º, –ø–µ—Ä–µ–º–µ—â–∞—é—â–∏–º —Ç–æ—á–∫—É –≤–Ω–∏–∑ –ø–æ —ç–∫—Ä–∞–Ω—É,
—Ç–∞–∫ —á—Ç–æ –≤ —Ç–æ—Ç –∂–µ –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ç–æ—á–∫–∞ –ø—Ä—ã–≥–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞–≤–µ—Ä—Ö
—ç–∫—Ä–∞–Ω–∞, –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫ –∑–Ω–∞—á–µ–Ω–∏—é,
–∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ `hash`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–æ—á–∫–∞
–ø–æ–ª—É—á–∏—Ç –Ω–æ–≤–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ–≤—É—é —Å–ª—É—á–∞–π–Ω—É—é –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é.

–†–µ–∑—É–ª—å—Ç–∞—Ç - —ç—Ñ—Ñ–µ–∫—Ç –¥–æ–∂–¥—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∫–∞–∂–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è

{{{example url="../webgl-no-data-point-rain-less-repeat.html"}}}

–ú–æ–∂–µ–º –ª–∏ –º—ã –¥–µ–ª–∞—Ç—å –±–æ–ª—å—à–µ, —á–µ–º `gl.POINTS`? –ö–æ–Ω–µ—á–Ω–æ!

–î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –∫—Ä—É–≥–∏. –î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ –≤–æ–∫—Ä—É–≥
—Ü–µ–Ω—Ç—Ä–∞, –∫–∞–∫ –ª–æ–º—Ç–∏–∫–∏ –ø–∏—Ä–æ–≥–∞. –ú—ã –º–æ–∂–µ–º –¥—É–º–∞—Ç—å –æ –∫–∞–∂–¥–æ–º —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–µ
–∫–∞–∫ –æ 2 —Ç–æ—á–∫–∞—Ö –≤–æ–∫—Ä—É–≥ –∫—Ä–∞—è –ø–∏—Ä–æ–≥–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–ª–µ–¥—É–µ—Ç 1 —Ç–æ—á–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ.
–ó–∞—Ç–µ–º –º—ã –ø–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–æ–º—Ç–∏–∫–∞ –ø–∏—Ä–æ–≥–∞.

<div class="webgl_center"><img src="resources/circle-points.svg" style="width: 400px;"></div>

–ò—Ç–∞–∫, —Å–Ω–∞—á–∞–ª–∞ –º—ã —Ö–æ—Ç–∏–º –∫–∞–∫–æ–π-—Ç–æ —Å—á–µ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ä–∞–∑ –Ω–∞ –ª–æ–º—Ç–∏–∫ –ø–∏—Ä–æ–≥–∞

```glsl
int sliceId = gl_VertexID / 3;
```

–ó–∞—Ç–µ–º –Ω–∞–º –Ω—É–∂–µ–Ω —Å—á–µ—Ç –≤–æ–∫—Ä—É–≥ –∫—Ä–∞—è –∫—Ä—É–≥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ—Ç

    0, 1, ?, 1, 2, ?, 2, 3, ?, ...

–ó–Ω–∞—á–µ–Ω–∏–µ ? –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ, –≥–ª—è–¥—è –Ω–∞
–¥–∏–∞–≥—Ä–∞–º–º—É –≤—ã—à–µ, 3-–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ (0,0),
—Ç–∞–∫ —á—Ç–æ –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ —É–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 0 –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –≤—ã—à–µ, —ç—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç

```glsl
int triVertexId = gl_VertexID % 3;
int edge = triVertexId + sliceId;
```

–î–ª—è —Ç–æ—á–µ–∫ –Ω–∞ –∫—Ä–∞—é –ø—Ä–æ—Ç–∏–≤ —Ç–æ—á–µ–∫ –≤ —Ü–µ–Ω—Ç—Ä–µ –Ω–∞–º –Ω—É–∂–µ–Ω
—ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω. 2 –Ω–∞ –∫—Ä–∞—é, –∑–∞—Ç–µ–º 1 –≤ —Ü–µ–Ω—Ç—Ä–µ, –ø–æ–≤—Ç–æ—Ä—è—Ç—å.

    1, 1, 0, 1, 1, 0, 1, 1, 0, ...

–ú—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Å

```glsl
float radius = step(1.5, float(triVertexId));
```

`step(a, b)` —ç—Ç–æ 0, –µ—Å–ª–∏ a < b, –∏ 1 –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ. –í—ã –º–æ–∂–µ—Ç–µ –¥—É–º–∞—Ç—å –æ–± —ç—Ç–æ–º –∫–∞–∫

```js
function step(a, b) {
  return a < b ? 0 : 1;
}
```

`step(1.5, float(triVertexId))` –±—É–¥–µ—Ç 1, –∫–æ–≥–¥–∞ 1.5 –º–µ–Ω—å—à–µ `triVertexId`.
–≠—Ç–æ –≤–µ—Ä–Ω–æ –¥–ª—è –ø–µ—Ä–≤—ã—Ö 2 –≤–µ—Ä—à–∏–Ω –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –∏ –ª–æ–∂–Ω–æ
–¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π.

–ú—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—à–∏–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –¥–ª—è –∫—Ä—É–≥–∞ —Ç–∞–∫

```glsl
int numSlices = 8;
int sliceId = gl_VertexID / 3;
int triVertexId = gl_VertexID % 3;
int edge = triVertexId + sliceId;
float angleU = float(edge) / float(numSlices);  // 0.0 –¥–æ 1.0
float angle = angleU * PI * 2.0;
float radius = step(float(triVertexId), 1.5);
vec2 pos = vec2(cos(angle), sin(angle)) * radius;
```

–°–æ–±—Ä–∞–≤ –≤—Å–µ —ç—Ç–æ –≤–º–µ—Å—Ç–µ, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–ø—Ä–æ–±—É–µ–º –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å 1 –∫—Ä—É–≥.

```glsl
#version 300 es
uniform int numVerts;
uniform vec2 resolution;

#define PI radians(180.0)

void main() {
  int numSlices = 8;
  int sliceId = gl_VertexID / 3;
  int triVertexId = gl_VertexID % 3;
  int edge = triVertexId + sliceId;
  float angleU = float(edge) / float(numSlices);  // 0.0 –¥–æ 1.0
  float angle = angleU * PI * 2.0;
  float radius = step(float(triVertexId), 1.5);
  vec2 pos = vec2(cos(angle), sin(angle)) * radius;

  float aspect = resolution.y / resolution.x;
  vec2 scale = vec2(aspect, 1);
  
  gl_Position = vec4(pos * scale, 0, 1);
}
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –º—ã –≤–µ—Ä–Ω—É–ª–∏ `resolution`, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ª—É—á–∏—Ç—å —ç–ª–ª–∏–ø—Å.

–î–ª—è 8-—Å—Ä–µ–∑–æ–≤–æ–≥–æ –∫—Ä—É–≥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ 8 * 3 –≤–µ—Ä—à–∏–Ω

```js
const numVerts = 8 * 3;
```

–∏ –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–∏—Å–æ–≤–∞—Ç—å `TRIANGLES`, –∞ –Ω–µ `POINTS`

```js
const offset = 0;
gl.drawArrays(gl.TRIANGLES, offset, numVerts);
```

{{{example url="../webgl-no-data-triangles-circle.html"}}}

–ê —á—Ç–æ, –µ—Å–ª–∏ –±—ã –º—ã —Ö–æ—Ç–µ–ª–∏ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä—É–≥–æ–≤?

–í—Å–µ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ –ø—Ä–∏–¥—É–º–∞—Ç—å `circleId`, –∫–æ—Ç–æ—Ä—ã–π –º—ã
–º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä—É–≥–∞, –∫–æ—Ç–æ—Ä–∞—è
–æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ä—à–∏–Ω –≤ –∫—Ä—É–≥–µ.

```glsl
int numVertsPerCircle = numSlices * 3;
int circleId = gl_VertexID / numVertsPerCircle;
```

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–∞–≤–∞–π—Ç–µ –Ω–∞—Ä–∏—Å—É–µ–º –∫—Ä—É–≥ –∏–∑ –∫—Ä—É–≥–æ–≤.

–°–Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –∫–æ–¥ –≤—ã—à–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é,

```glsl
vec2 computeCircleTriangleVertex(int vertexId) {
  int numSlices = 8;
  int sliceId = vertexId / 3;
  int triVertexId = vertexId % 3;
  int edge = triVertexId + sliceId;
  float angleU = float(edge) / float(numSlices);  // 0.0 –¥–æ 1.0
  float angle = angleU * PI * 2.0;
  float radius = step(float(triVertexId), 1.5);
  return vec2(cos(angle), sin(angle)) * radius;
}
```

–¢–µ–ø–µ—Ä—å –≤–æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
–∫—Ä—É–≥–∞ –∏–∑ —Ç–æ—á–µ–∫ –≤ –Ω–∞—á–∞–ª–µ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏.

```glsl
float u = float(gl_VertexID) / float(numVerts);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
float angle = u * PI * 2.0;                      // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 2PI
float radius = 0.8;

vec2 pos = vec2(cos(angle), sin(angle)) * radius;

float aspect = resolution.y / resolution.x;
vec2 scale = vec2(aspect, 1);

gl_Position = vec4(pos * scale, 0, 1);
```

–ù–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `circleId` –≤–º–µ—Å—Ç–æ
`vertexId` –∏ –¥–µ–ª–∏—Ç—å –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É–≥–æ–≤
–≤–º–µ—Å—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–µ—Ä—à–∏–Ω.

```glsl
void main() {
  int circleId = gl_VertexID / numVertsPerCircle;
  int numCircles = numVerts / numVertsPerCircle;

  float u = float(circleId) / float(numCircles);  // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 1
  float angle = u * PI * 2.0;                     // –∏–¥–µ—Ç –æ—Ç 0 –¥–æ 2PI
  float radius = 0.8;

  vec2 pos = vec2(cos(angle), sin(angle)) * radius;

  vec2 triPos = computeCircleTriangleVertex(gl_VertexID) * 0.1;
  
  float aspect = resolution.y / resolution.x;
  vec2 scale = vec2(aspect, 1);
  
  gl_Position = vec4((pos + triPos) * scale, 0, 1);
}
```

–ó–∞—Ç–µ–º –Ω–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω

```js
const numVerts = 8 * 3 * 20;
```

–ò —Ç–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –∫—Ä—É–≥ –∏–∑ 20 –∫—Ä—É–≥–æ–≤.

{{{example url="../webgl-no-data-triangles-circles.html"}}}

–ò, –∫–æ–Ω–µ—á–Ω–æ, –º—ã –º–æ–≥–ª–∏ –±—ã –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ –∂–µ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –¥–µ–ª–∞–ª–∏
–≤—ã—à–µ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –¥–æ–∂–¥—å –∏–∑ –∫—Ä—É–≥–æ–≤. –≠—Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ –∏–º–µ–µ—Ç
—Å–º—ã—Å–ª–∞, –ø–æ—ç—Ç–æ–º—É —è –Ω–µ –±—É–¥—É –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ —ç—Ç–æ, –Ω–æ —ç—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç
—Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤ –≤ –≤–µ—Ä—à–∏–Ω–Ω–æ–º —à–µ–π–¥–µ—Ä–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö.

–í—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –º–æ–≥–ª–∞ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
–∏–ª–∏ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –∑–∞—Ç–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UV –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç,
–ø–µ—Ä–µ–¥–∞—á–∏ –∏—Ö –≤ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–π —à–µ–π–¥–µ—Ä –∏ —Ç–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
–Ω–∞—à–µ–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏. –≠—Ç–æ –º–æ–≥–ª–æ –±—ã –±—ã—Ç—å —Ö–æ—Ä–æ—à–æ –¥–ª—è
–ø–∞–¥–∞—é—â–∏—Ö —Å–Ω–µ–∂–∏–Ω–æ–∫ –∏–ª–∏ –ª–∏—Å—Ç—å–µ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ 3D,
–ø—Ä–∏–º–µ–Ω—è—è 3D —Ç–µ—Ö–Ω–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ —Å—Ç–∞—Ç—å—è—Ö
–æ [3D –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ](webgl-3d-perspective.html).

–Ø —Ö–æ—á—É –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å, —á—Ç–æ **—ç—Ç–∏ —Ç–µ—Ö–Ω–∏–∫–∏** –Ω–µ —è–≤–ª—è—é—Ç—Å—è –æ–±—ã—á–Ω—ã–º–∏.
–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã —á–∞—Å—Ç–∏—Ü –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª—É-–æ–±—ã—á–Ω—ã–º –∏–ª–∏
—ç—Ñ—Ñ–µ–∫—Ç –¥–æ–∂–¥—è –≤—ã—à–µ, –Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
–ø–æ–≤—Ä–µ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –í –æ–±—â–µ–º, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏,
–≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ø—Ä–æ—Å–∏—Ç—å –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä –¥–µ–ª–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç—ã,
—Ç–∞–∫ —á—Ç–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∫—É—á–∞ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —à–µ–π–¥–µ—Ä –≤ —Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π —Ñ–æ—Ä–º–µ, –≤—ã
–¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π –≤–µ—Ä—à–∏–Ω–Ω—ã–π —à–µ–π–¥–µ—Ä,
–∫–æ—Ç–æ—Ä—ã–π –≤—ã—á–∏—Å–ª—è–µ—Ç –∫—É—á—É –∫—É–±–æ–≤ (–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å—Ç—å –∑–≤—É–∫).

<iframe width="700" height="400" src="https://www.vertexshaderart.com/art/zd2E5vCZduc5JeoFz" frameborder="0" allowfullscreen></iframe>

–ö–∞–∫ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ "–ï—Å–ª–∏ –±—ã —É –º–µ–Ω—è –Ω–µ –±—ã–ª–æ –¥–∞–Ω–Ω—ã—Ö,
–∫—Ä–æ–º–µ vertex id, –º–æ–≥ –±—ã —è –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ?" —ç—Ç–æ
–¥–æ–≤–æ–ª—å–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ. –§–∞–∫—Ç–∏—á–µ—Å–∫–∏ [–≤–µ—Å—å —ç—Ç–æ—Ç —Å–∞–π—Ç](https://www.vertexshaderart.com) –æ
–≥–æ–ª–æ–≤–æ–ª–æ–º–∫–µ, –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ vertex id, –º–æ–∂–µ—Ç–µ –ª–∏ –≤—ã —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ
–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ. –ù–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—ã–ª–æ –±—ã –Ω–∞–º–Ω–æ–≥–æ –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–±–æ–ª–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω –∫—É–±–∞
–≤ –±—É—Ñ–µ—Ä—ã –∏ —á—Ç–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏,
–∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç—å—è—Ö.

–ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –±–∞–ª–∞–Ω—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏. –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –¥–æ–∂–¥—è –≤—ã—à–µ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ç–æ—á–Ω–æ —ç—Ç–æ—Ç
—ç—Ñ—Ñ–µ–∫—Ç, —Ç–æ –∫–æ–¥ –≤—ã—à–µ –¥–æ–≤–æ–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω. –ì–¥–µ-—Ç–æ –º–µ–∂–¥—É
–¥–≤—É–º—è –ª–µ–∂–∏—Ç –≥—Ä–∞–Ω–∏—Ü–∞, –≥–¥–µ –æ–¥–Ω–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞,
—á–µ–º –¥—Ä—É–≥–∞—è. –û–±—ã—á–Ω–æ –±–æ–ª–µ–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ
—Ç–∞–∫–∂–µ, –Ω–æ –≤–∞–º –Ω—É–∂–Ω–æ —Ä–µ—à–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª—É—á–∞—è –∑–∞ —Å–ª—É—á–∞–µ–º, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω
—Å–ø–æ—Å–æ–± –∏–ª–∏ –¥—Ä—É–≥–æ–π.

–¶–µ–ª—å —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å —Å —ç—Ç–∏–º–∏ –∏–¥–µ—è–º–∏
–∏ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã –º—ã—à–ª–µ–Ω–∏—è –æ —Ç–æ–º, —á—Ç–æ WebGL
—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç. –°–Ω–æ–≤–∞ –µ–º—É –≤—Å–µ —Ä–∞–≤–Ω–æ, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ `gl_Position`
–∏ –≤—ã–≤–æ–¥–∏—Ç–µ —Ü–≤–µ—Ç –≤ –≤–∞—à–∏—Ö —à–µ–π–¥–µ—Ä–∞—Ö. –ï–º—É –≤—Å–µ —Ä–∞–≤–Ω–æ, –∫–∞–∫ –≤—ã —ç—Ç–æ –¥–µ–ª–∞–µ—Ç–µ.

<div class="webgl_bottombar" id="pointsissues">
<h3>–ü—Ä–æ–±–ª–µ–º–∞ —Å <code>gl.POINTS</code></h3>
<p>
–û–¥–Ω–∞ –≤–µ—â—å, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π —Ç–µ—Ö–Ω–∏–∫–∞ –≤—Ä–æ–¥–µ —ç—Ç–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ–π, —ç—Ç–æ —Å–∏–º—É–ª—è—Ü–∏—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
—Å <code>gl.POINTS</code>.
</p>

–ï—Å—Ç—å 2 –ø—Ä–æ–±–ª–µ–º—ã —Å <code>gl.POINTS</code>

<ol>
<li>–£ –Ω–∏—Ö –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä<br/><br/>–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ª—é–¥–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö <code>gl.POINTS</code>, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–∞–ª–µ–Ω—å–∫–∏–µ —Ä–∞–∑–º–µ—Ä—ã,
–Ω–æ –µ—Å–ª–∏ —ç—Ç–æ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–µ–Ω—å—à–µ, —á–µ–º –≤–∞–º –Ω—É–∂–Ω–æ, –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
</li>
<li>–ö–∞–∫ –æ–Ω–∏ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞, –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ<br/><br/>
–ü—Ä–æ–±–ª–µ–º–∞ –∑–¥–µ—Å—å –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ —Ü–µ–Ω—Ç—Ä —Ç–æ—á–∫–∏ –≤ 1 –ø–∏–∫—Å–µ–ª—å –æ—Ç –ª–µ–≤–æ–≥–æ –∫—Ä–∞—è
canvas, –Ω–æ –≤—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ <code>gl_PointSize</code> –≤ 32.0.
<div class="webgl_center"><img src="resources/point-outside-canvas.svg" style="width: 400px"></div>
–°–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ OpenGL ES 3.0
—Ç–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏, —ç—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ—Å–∫–æ–ª—å–∫—É 15 —Å—Ç–æ–ª–±—Ü–æ–≤ –∏–∑ —ç—Ç–∏—Ö 32x32 –ø–∏–∫—Å–µ–ª–µ–π –≤—Å–µ –µ—â–µ –Ω–∞ canvas,
–æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω—ã. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, OpenGL (–Ω–µ ES) –≥–æ–≤–æ—Ä–∏—Ç –ø—Ä—è–º–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ.
–ï—Å–ª–∏ —Ü–µ–Ω—Ç—Ä —Ç–æ—á–∫–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ canvas, –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∏—Å—É–µ—Ç—Å—è. –ï—â–µ —Ö—É–∂–µ, OpenGL –¥–æ
–Ω–µ–¥–∞–≤–Ω–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –±—ã–ª –ø–µ—á–∞–ª—å–Ω–æ –∏–∑–≤–µ—Å—Ç–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø–æ—ç—Ç–æ–º—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã —Ä–∏—Å—É—é—Ç —ç—Ç–∏ –ø–∏–∫—Å–µ–ª–∏,
–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç üò≠
</li>
</ol>
<p>
–ò—Ç–∞–∫, –µ—Å–ª–∏ –ª—é–±–∞—è –∏–∑ —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π –¥–ª—è –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π, —Ç–æ –∫–∞–∫ —Ä–µ—à–µ–Ω–∏–µ –≤–∞–º –Ω—É–∂–Ω–æ —Ä–∏—Å–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–≤–∞–¥—ã
—Å <code>gl.TRIANGLES</code> –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <code>gl.POINTS</code>.
 –ï—Å–ª–∏ –≤—ã —Å–¥–µ–ª–∞–µ—Ç–µ —ç—Ç–æ, –æ–±–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã.
–ü—Ä–æ–±–ª–µ–º–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏—Å—á–µ–∑–∞–µ—Ç, –∫–∞–∫ –∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–µ–∑–∫–∏. –ï—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ
—Å–ø–æ—Å–æ–±—ã —Ä–∏—Å–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –∫–≤–∞–¥–æ–≤. <a href="https://jsgist.org/?src=6306857bfd65adbdcd54b0051d441935">–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Ö–Ω–∏–∫–∏ –≤—Ä–æ–¥–µ —Ç–µ—Ö, —á—Ç–æ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ</a>.</p>
</div> 