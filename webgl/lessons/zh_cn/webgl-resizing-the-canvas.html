<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/zh_cn/webgl-resizing-the-canvas.md. Do not edited directly -->
<!--
Copyright 2021, GFXFundamentals.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of GFXFundamentals. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="å¦‚ä½•é‡ç½®ä¸€ä¸ª WebGL ç”»å¸ƒä»¥åŠè®¾è®¡çš„é—®é¢˜">
<meta name="keywords" content="webgl webgl2 graphics">
<meta name="thumbnail" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-resizing-the-canvas_zh-cn.jpg">

<meta property="og:title" content="WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸">
<meta property="og:type" content="website">
<meta property="og:image" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-resizing-the-canvas_zh-cn.jpg">
<meta property="og:description" content="å¦‚ä½•é‡ç½®ä¸€ä¸ª WebGL ç”»å¸ƒä»¥åŠè®¾è®¡çš„é—®é¢˜">
<meta property="og:url" content="https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@greggman">
<meta name="twitter:creator" content="@greggman">
<meta name="twitter:domain" content="webgl2fundamentals.org">
<meta name="twitter:title" content="WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸">
<meta name="twitter:url" content="https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html">
<meta name="twitter:description" content="å¦‚ä½•é‡ç½®ä¸€ä¸ª WebGL ç”»å¸ƒä»¥åŠè®¾è®¡çš„é—®é¢˜">
<meta name="twitter:image:src" content="https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-resizing-the-canvas_zh-cn.jpg">

<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@graph":[
    {
      "@type":"WebSite",
      "@id":"https://webgl2fundamentals.org/#website",
      "url":"https://webgl2fundamentals.org/",
      "name":"Webgl2Fundamentals"
    },
    {
      "@type":"ImageObject",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html#primaryimage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/screenshots/webgl-resizing-the-canvas_zh-cn.jpg",
      "width":1200,
      "height":630
    },
    {
      "@type":"WebPage",
      "@id":"https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html#webpage",
      "url":"https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html",
      "inLanguage":"zh-cn",
      "name":"WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸",
      "keywords":"webgl webgl2 graphics programming",
      "isPartOf":{
        "@id":"https://webgl2fundamentals.org/#website"
      },
      "primaryImageOfPage":{
        "@id":"https://webgl2fundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html#primaryimage"
      }
    }
  ]
}
</script>


<title>WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸</title>
<link href="/webgl/lessons/resources/webgl2fundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/lang.css">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css">

  <link rel="alternate" hreflang="en" href="https://webglfundamentals.org/webgl/lessons/webgl-resizing-the-canvas.html">
  <link rel="alternate" hreflang="de" href="https://webglfundamentals.org/webgl/lessons/de/webgl-resizing-the-canvas.html">
  <link rel="alternate" hreflang="ja" href="https://webglfundamentals.org/webgl/lessons/ja/webgl-resizing-the-canvas.html">
  <link rel="alternate" hreflang="ko" href="https://webglfundamentals.org/webgl/lessons/ko/webgl-resizing-the-canvas.html">
  <link rel="alternate" hreflang="pt-br" href="https://webglfundamentals.org/webgl/lessons/pt-br/webgl-resizing-the-canvas.html">
  <link rel="alternate" hreflang="zh_cn" href="https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html">




</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-resizing-the-canvas.html" >English</a>
    <option value="/webgl/lessons/de/webgl-resizing-the-canvas.html" >Deutsch</a>
    <option value="/webgl/lessons/ja/webgl-resizing-the-canvas.html" >æ—¥æœ¬èª</a>
    <option value="/webgl/lessons/ko/webgl-resizing-the-canvas.html" >í•œêµ­ì–´</a>
    <option value="/webgl/lessons/pt-br/webgl-resizing-the-canvas.html" >PortuguÃªs Brasileiro</a>
    <option value="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html" selected>ç®€ä½“ä¸­æ–‡</a>
</select>


    <a href="#toc">ç›®å½•</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/webgl/lessons/zh_cn/">WebGL2Fundamentals.org</a></h1>
<style>
#forkongithub>div {
    background: #000;
    color: #fff;
    font-family: arial,sans-serif;
    text-align: center;
    font-weight: bold;
    padding: 5px 40px;
    font-size: 0.9rem;
    line-height: 1.3rem;
    position: relative;
    transition: 0.5s;
    display: block;
    width: 400px;
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(200px) rotate(45deg) translate(10px,70px);
    box-shadow: 4px 4px 10px rgba(0,0,0,0.8);
    pointer-events: auto;
}
#forkongithub a {
  text-decoration: none;
  color: #fff;
}
#forkongithub>div:hover {
    background: #c11;
    color: #fff;
}
#forkongithub .contributors {
  font-size: 0.75rem;
  background: rgba(255,255,255,0.2);
  line-height: 1.2;
  padding: 0.1em;
}
#forkongithub>div::before,#forkongithub>div::after {
    content: "";
    width: 100%;
    display: block;
    position: absolute;
    top: 1px;
    left: 0;
    height: 1px;
    background: #fff;
}
#forkongithub>div::after {
    bottom: 1px;
    top: auto;
}

#forkongithub{
    z-index: 9999;
    /* needed for firefox */
    overflow: hidden;
    width: 300px;
    height: 300px;
    position: absolute;
    right: 0;
    top: 0;
    pointer-events: none;
}
#forkongithub svg{
  width: 1em;
  height: 1em;
  vertical-align: middle;
}
#forkongithub img {
  width: 1em;
  height: 1em;
  border-radius: 100%;
  vertical-align: middle;
}

@media (max-width: 900px) {
    #forkongithub>div {
        line-height: 1.2rem;
    }
}
@media (max-width: 700px) {
  #forkongithub {
    display: none;
  }
}
@media (max-width: 410px) {
    #forkongithub>div {
        font-size: 0.7rem;
        transform: translateX(150px) rotate(45deg) translate(20px,40px);
    }
}

</style>
<div id="forkongithub"><div><div><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">Fix, Fork, Contribute <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 136 133" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(3.92891,0,0,3.92891,67.867,129.125)">
        <path d="M0,-31.904C-8.995,-31.904 -16.288,-24.611 -16.288,-15.614C-16.288,-8.417 -11.621,-2.312 -5.148,-0.157C-4.333,-0.008 -4.036,-0.511 -4.036,-0.943C-4.036,-1.329 -4.05,-2.354 -4.058,-3.713C-8.589,-2.729 -9.545,-5.897 -9.545,-5.897C-10.286,-7.779 -11.354,-8.28 -11.354,-8.28C-12.833,-9.29 -11.242,-9.27 -11.242,-9.27C-9.607,-9.155 -8.747,-7.591 -8.747,-7.591C-7.294,-5.102 -4.934,-5.821 -4.006,-6.238C-3.858,-7.29 -3.438,-8.008 -2.972,-8.415C-6.589,-8.826 -10.392,-10.224 -10.392,-16.466C-10.392,-18.244 -9.757,-19.698 -8.715,-20.837C-8.883,-21.249 -9.442,-22.905 -8.556,-25.148C-8.556,-25.148 -7.188,-25.586 -4.076,-23.478C-2.777,-23.84 -1.383,-24.02 0.002,-24.026C1.385,-24.02 2.779,-23.84 4.08,-23.478C7.19,-25.586 8.555,-25.148 8.555,-25.148C9.444,-22.905 8.885,-21.249 8.717,-20.837C9.761,-19.698 10.392,-18.244 10.392,-16.466C10.392,-10.208 6.583,-8.831 2.954,-8.428C3.539,-7.925 4.06,-6.931 4.06,-5.411C4.06,-3.234 4.04,-1.477 4.04,-0.943C4.04,-0.507 4.333,0 5.16,-0.159C11.628,-2.318 16.291,-8.419 16.291,-15.614C16.291,-24.611 8.997,-31.904 0,-31.904" style="fill:white;"/>
    </g>
</svg>
</a></div></div></div>

</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>è¿™æ˜¯é‡ç½®ç”»å¸ƒå°ºå¯¸æ—¶åº”è¯¥çŸ¥é“çš„çŸ¥è¯†ã€‚</p>
<p>æ¯ä¸ªç”»å¸ƒéƒ½æœ‰ä¸¤ä¸ªå°ºå¯¸ï¼Œä¸€ä¸ªæ˜¯ drawingbuffer çš„å°ºå¯¸ï¼Œ
è¿™ä¸ªè¡¨ç¤ºç”»å¸ƒä¸­æœ‰å¤šå°‘ä¸ªåƒç´ ã€‚å¦ä¸€æ˜¯ç”»å¸ƒæ˜¾ç¤ºçš„å°ºå¯¸ï¼Œ
CSS å†³å®šç”»å¸ƒæ˜¾ç¤ºçš„å°ºå¯¸ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼è®¾ç½®ç”»å¸ƒçš„ drawingbuffer å°ºå¯¸ã€‚ä¸€ç§æ˜¯ä½¿ç”¨ HTML</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-html">&lt;canvas id=&quot;c&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
</code></pre>
<p>å¦ä¸€ç§æ˜¯ä½¿ç”¨ JavaScript</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-html">&lt;canvas id=&quot;c&quot;&gt;&lt;/canvas&gt;
</code></pre>
<p>JavaScript</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">const canvas = document.querySelector(&#39;#c&#39;)
canvas.width = 400
canvas.height = 300
</code></pre>
<p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ CSS å½±å“åˆ°ç”»å¸ƒçš„æ˜¾ç¤ºå°ºå¯¸ï¼Œç”»å¸ƒçš„æ˜¾ç¤ºå°ºå¯¸åˆ™å’Œ drawingbuffer å°ºå¯¸ç›¸åŒã€‚
æ‰€ä»¥åœ¨ä¸Šè¿°ä¸¤ä¸ªä¾‹å­ä¸­ç”»å¸ƒçš„ drawingbuffer å°ºå¯¸å’Œæ˜¾ç¤ºå°ºå¯¸éƒ½æ˜¯ 400x300ã€‚</p>
<p>åœ¨ä¸‹æ–¹çš„ä¾‹å­ä¸­ç”»å¸ƒçš„æ˜¾ç¤ºå°ºå¯¸æ˜¯ 400x300ï¼Œdrawingbuffer æ˜¯ 10x15</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-html">&lt;canvas
    id=&quot;c&quot;
    width=&quot;10&quot;
    height=&quot;15&quot;
    style=&quot;width: 400px; height: 300px;&quot;
&gt;&lt;/canvas&gt;
</code></pre>
<p>æˆ–è€…åƒè¿™æ ·</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-html">&lt;style&gt;
    #c {
        width: 400px;
        height: 300px;
    }
&lt;/style&gt;
&lt;canvas id=&quot;c&quot; width=&quot;10&quot; height=&quot;15&quot;&gt;&lt;/canvas&gt;
</code></pre>
<p>å¦‚æœæˆ‘ä»¬åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶ä»¥ä¸€ä¸ªå•åƒç´ å®½åº¦çš„çº¿ï¼Œå°±ä¼šå¾—åˆ°è¿™æ ·çš„ç»“æœ</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-10x15-canvas-400x300-css.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-10x15-canvas-400x300-css.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>ä¸ºä»€ä¹ˆå®ƒè¢«æ¨¡ç³Šäº†ï¼Ÿå› ä¸ºæµè§ˆå™¨å¾—åˆ° 10x15 åƒç´ çš„ç”»å¸ƒï¼Œå°†å®ƒæ‹‰ä¼¸åˆ° 400x300 åƒç´ ï¼Œ
ç„¶ååœ¨æ‹‰ä¼¸çš„è¿‡ç¨‹ä¸­è¿›è¡Œäº†æ’å€¼ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æƒ³è®©ç”»å¸ƒå¡«å……æ»¡çª—å£è¯¥æ€ä¹ˆåšï¼Ÿé¦–å…ˆä½¿ç”¨ CSS è®©æµè§ˆå™¨å°†ç”»å¸ƒé“ºæ»¡çª—å£ï¼Œä¾‹å¦‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">&lt;html&gt;
  &lt;head&gt;
    &lt;style&gt;
      /*  */
      html, body {
        height: 100%;
        margin: 0;
      }
      /* è®¾ç½®ç”»å¸ƒå¤§å°ä¸ºè§†åŸŸå¤§å° */
      #c {
        width: 100%;
        height: 100%;
        display: block;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;canvas id=&quot;c&quot;&gt;&lt;/canvas&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>ç°åœ¨åªéœ€è¦å°† drawingbuffer çš„å°ºå¯¸è®¾ç½®ä¸ºä¸ºæµè§ˆå™¨æ‹‰ä¼¸åçš„ç”»å¸ƒå°ºå¯¸ã€‚
è¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„è¯é¢˜ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›ä¸åŒçš„æ–¹æ³•</p>
<h2 id="-clientwidth-clientheight-">ä½¿ç”¨ <code class="notranslate" translate="no">clientWidth</code> å’Œ <code class="notranslate" translate="no">clientHeight</code></h2>
<p>è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ³•ã€‚
<code class="notranslate" translate="no">clientWidth</code> å’Œ <code class="notranslate" translate="no">clientHeight</code> å±æ€§æ˜¯æ‰€æœ‰ HTML å…ƒç´ éƒ½æœ‰çš„å±æ€§ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ä»¬å…ƒç´ çš„å¤§å°ï¼ˆCSS åƒç´ ï¼‰ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š client rect åŒ…å«ä»»ä½• CSS å†…è¾¹è·ï¼Œæ‰€ä»¥å¦‚æœä½ ä½¿ç”¨ <code class="notranslate" translate="no">clientWidth</code> å’Œ/æˆ– <code class="notranslate" translate="no">clientHeight</code> æœ€å¥½ä¸è¦ç»™ canvas è®¾ç½®ä»»ä½•çš„å†…è¾¹è·ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ JavaScript æˆ‘ä»¬å¯ä»¥æ£€æŸ¥è¯¥å…ƒç´ æ­£åœ¨æ˜¾ç¤ºçš„å¤§å°ï¼Œç„¶åè°ƒæ•´ç»˜å›¾ç¼“å†²åŒºå¤§å°ä»¥åŒ¹é…ã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function resizeCanvasToDisplaySize(canvas) {
    // è·å–æµè§ˆå™¨æ˜¾ç¤ºçš„ç”»å¸ƒçš„CSSåƒç´ å€¼
    const displayWidth = canvas.clientWidth
    const displayHeight = canvas.clientHeight

    // æ£€æŸ¥ç”»å¸ƒå¤§å°æ˜¯å¦ç›¸åŒã€‚
    const needResize =
        canvas.width !== displayWidth || canvas.height !== displayHeight

    if (needResize) {
        // ä½¿ç”»å¸ƒå¤§å°ç›¸åŒ
        canvas.width = displayWidth
        canvas.height = displayHeight
    }

    return needResize
}
</code></pre>
<p>è®©æˆ‘ä»¬åœ¨æ¸²æŸ“ä¹‹å‰è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè¿™æ ·å®ƒæ€»æ˜¯ä¼šåœ¨ç»˜åˆ¶ä¹‹å‰å°†ç”»å¸ƒè°ƒæ•´åˆ°æˆ‘ä»¬æƒ³è¦çš„å¤§å°ã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function drawScene() {
   resizeCanvasToDisplaySize(gl.canvas);

   ...
</code></pre>
<p>å°±æ˜¯è¿™æ ·</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Ÿä¸ºä»€ä¹ˆè¿™æ¡çº¿æ²¡æœ‰è¦†ç›–æ•´ä¸ªåŒºåŸŸï¼Ÿ</p>
<p>åŸå› æ˜¯å½“æˆ‘ä»¬é‡ç½®ç”»å¸ƒå°ºå¯¸çš„æ—¶å€™è¿˜éœ€è¦è°ƒç”¨<code class="notranslate" translate="no">gl.viewport</code>è®¾ç½®è§†åŸŸï¼Œ
<code class="notranslate" translate="no">gl.viewport</code>å‘Šè¯‰ WebGL å¦‚ä½•å°†è£å‰ªç©ºé—´ï¼ˆ-1 åˆ° +1ï¼‰ä¸­çš„ç‚¹è½¬æ¢åˆ°åƒç´ ç©ºé—´ï¼Œ
ä¹Ÿå°±æ˜¯ç”»å¸ƒå†…ã€‚å½“ä½ ç¬¬ä¸€æ¬¡åˆ›å»º WebGL ä¸Šä¸‹æ–‡çš„æ—¶å€™ WebGL ä¼šè®¾ç½®è§†åŸŸå¤§å°å’Œç”»å¸ƒå¤§å°åŒ¹é…ï¼Œ
ä½†æ˜¯åœ¨é‚£ä¹‹åå°±éœ€è¦ä½ è‡ªå·±è®¾ç½®ã€‚å½“ä½ æ”¹å˜ç”»å¸ƒå¤§å°å°±éœ€è¦å‘Šè¯‰ WebGL æ–°çš„è§†åŸŸè®¾ç½®ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥ä¿®æ”¹ä»£ç å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ç”±äº WebGL ä¸Šä¸‹æ–‡å¼•ç”¨äº†ç”»å¸ƒï¼Œæ‰€ä»¥ç›´æ¥ä¼ é€’å®ƒçš„å°ºå¯¸ã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">function drawScene() {
   resizeCanvasToDisplaySize(gl.canvas);

+   gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
   ...
</code></pre><p>ç°åœ¨æ²¡é—®é¢˜äº†ã€‚</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas-viewport.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas-viewport.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>åœ¨æ–°çª—å£ä¸­æ‰“å¼€ï¼Œæ”¹å˜çª—å£å¤§å°ï¼Œå‘ç°å®ƒæ€»æ˜¯å¡«æ»¡çª—å£ã€‚</p>
<p>æˆ‘çŸ¥é“ä½ ä¼šé—®ï¼Œä¸ºä»€ä¹ˆ WebGL ä¸åœ¨ç”»å¸ƒå°ºå¯¸æ”¹å˜çš„æ—¶å€™è‡ªåŠ¨å¸®æˆ‘ä»¬ä¿®æ”¹è§†åŸŸï¼Ÿ
åŸå› æ˜¯å®ƒä¸çŸ¥é“ä½ å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆä½¿ç”¨è§†åŸŸï¼Œä½ å¯ä»¥ <a href="webgl-render-to-texture.html">æ¸²æŸ“åˆ°ä¸€ä¸ªå¸§ç¼“å†²</a>
æˆ–è€…åšå…¶ä»–çš„äº‹æƒ…éœ€è¦ä¸åŒçš„è§†åŸŸå°ºå¯¸ã€‚
WebGL æ²¡åŠæ³•çŸ¥é“ä½ çš„æ„å›¾æ‰€ä»¥å°±ä¸èƒ½è‡ªåŠ¨å¸®ä½ è®¾ç½®è§†åŸŸã€‚</p>
<hr>
<h2 id="-devicepixelratio-">å¤„ç† <code class="notranslate" translate="no">devicePixelRatio</code> å’Œç¼©æ”¾</h2>
<p>ä¸ºä»€ä¹ˆè¿™è¿˜æ²¡æœ‰ç»“æŸï¼Ÿå—¯ï¼Œè¿™å°±æ˜¯äº‹æƒ…å˜å¾—å¤æ‚çš„åœ°æ–¹ã€‚</p>
<p>é¦–å…ˆè¦äº†è§£çš„æ˜¯ï¼Œæµè§ˆå™¨ä¸­çš„å¤§å¤šæ•°å°ºå¯¸éƒ½æ˜¯ä»¥ CSS åƒç´ ä¸ºå•ä½çš„ã€‚è¿™æ˜¯ä¸€ä¸ªä½¿ä¸åŒè®¾å¤‡æœ‰ä¸åŒå°ºå¯¸çš„å°è¯•ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ¬æ–‡çš„é¡¶éƒ¨ï¼Œæˆ‘ä»¬å°†ç”»å¸ƒçš„æ˜¾ç¤ºå¤§å°è®¾ç½®ä¸º 400x300 CSS åƒç´ ã€‚æ ¹æ®ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰ HD-DPI æ˜¾ç¤ºå™¨ï¼Œæˆ–è€…è¿›è¡Œäº†æ”¾å¤§æˆ–ç¼©å°ï¼Œæˆ–è€…è®¾ç½®äº†æ“ä½œç³»ç»Ÿç¼©æ”¾çº§åˆ«ï¼Œæ˜¾ç¤ºå™¨ä¸Šçš„å®é™…åƒç´ æ•°é‡ä¼šæœ‰æ‰€ä¸åŒã€‚</p>
<p><code class="notranslate" translate="no">window.devicePixelRatio</code> ä¸€èˆ¬ä¼šå‘Šè¯‰æˆ‘ä»¬å®é™…åƒç´ ä¸æ˜¾ç¤ºå™¨ä¸Š CSS åƒç´ çš„æ¯”ç‡ã€‚ä¾‹å¦‚ï¼Œè¿™æ˜¯æ‚¨æµè§ˆå™¨çš„å½“å‰è®¾ç½®</p>
<blockquote>
<div>devicePixelRatio = <span data-diagram="dpr"></span></div>

</blockquote>
<p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯å°å¼æœºæˆ–ç¬”è®°æœ¬ç”µè„‘ï¼Œ è¯·å°è¯•æŒ‰ <kbd>ctrl</kbd>+<kbd>+</kbd> å’Œ <kbd>ctrl</kbd>+<kbd>-</kbd> è¿›è¡Œæ”¾å¤§å’Œç¼©å° (åœ¨ Mac ä¸Šä¸º<kbd>âŒ˜</kbd>+<kbd>+</kbd> and <kbd>âŒ˜</kbd>+<kbd>-</kbd> )ã€‚æ‚¨åº”è¯¥ä¼šçœ‹åˆ°æ•°å­—å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ç”»å¸ƒä¸­çš„åƒç´ æ•°ä¸å®é™…ç”¨äºæ˜¾ç¤ºå®ƒçš„åƒç´ æ•°ç›¸åŒ¹é…
æ˜¾è€Œæ˜“è§çš„è§£å†³æ–¹æ¡ˆæ˜¯å°† <code class="notranslate" translate="no">clientWidth</code> å’Œ <code class="notranslate" translate="no">clientHeight</code> ä¹˜äº <code class="notranslate" translate="no">devicePixelRatio</code> åƒè¿™æ ·:</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function resizeCanvasToDisplaySize(canvas) {
  // è·å–æµè§ˆå™¨æ˜¾ç¤ºçš„ç”»å¸ƒçš„CSSåƒç´ å€¼
-  const displayWidth  = canvas.clientWidth;
-  const displayHeight = canvas.clientHeight;
+  const dpr = window.devicePixelRatio;
+  const displayWidth  = Math.round(canvas.clientWidth * dpr);
+  const displayHeight = Math.round(canvas.clientHeight * dpr);

  // æ£€æŸ¥ç”»å¸ƒå°ºå¯¸æ˜¯å¦ç›¸åŒ
  const needResize = canvas.width  != displayWidth ||
                     canvas.height != displayHeight;

  if (needResize) {
    // è®¾ç½®ä¸ºç›¸åŒçš„å°ºå¯¸
    canvas.width  = displayWidth;
    canvas.height = displayHeight;
  }

  return needResize;
}
</code></pre>
<p>æˆ‘ä»¬éœ€è¦è°ƒç”¨ <code class="notranslate" translate="no">Math.round</code> (æˆ–è€… <code class="notranslate" translate="no">Math.ceil</code>, æˆ–è€… <code class="notranslate" translate="no">Math.floor</code> æˆ–è€… <code class="notranslate" translate="no">| 0</code>) æ¥å¾—åˆ°ä¸€ä¸ªæ•´æ•°ï¼Œ
å› ä¸º <code class="notranslate" translate="no">canvas.width</code> å’Œ <code class="notranslate" translate="no">canvas.height</code> æ€»æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥å¦‚æœ
<code class="notranslate" translate="no">devicePixelRatio</code> ä¸æ˜¯ä¸€ä¸ªå¸¸è§çš„æ•´æ•°ï¼Œæˆ‘ä»¬çš„æ¯”è¾ƒå¯èƒ½ä¼šå¤±è´¥ï¼Œ
ç‰¹åˆ«æ˜¯å¦‚æœç”¨æˆ·è¿›è¡Œäº†ç¼©æ”¾ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæ˜¯å¦ä½¿ç”¨ <code class="notranslate" translate="no">Math.floor</code> æˆ– <code class="notranslate" translate="no">Math.ceil</code> æˆ– <code class="notranslate" translate="no">Math.round</code> ä¸æ˜¯ç”± HTML å®šä¹‰çš„
è¿™å–å†³äºæµè§ˆå™¨ã€‚ ğŸ™„</p>
</blockquote>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè¿™ <strong>ä¸ä¼š</strong> å®é™…å·¥ä½œã€‚ æ–°é—®é¢˜æ˜¯ï¼Œç»™å®šä¸€ä¸ªä¸æ˜¯ 1.0 çš„ <code class="notranslate" translate="no">devicePixelRatio</code>
ç”»å¸ƒå¡«å……ç»™å®šåŒºåŸŸæ‰€éœ€çš„ CSS å¤§å°å¯èƒ½ä¸æ˜¯æ•´æ•°å€¼
ä½†æ˜¯ <code class="notranslate" translate="no">clientWidth</code> å’Œ <code class="notranslate" translate="no">clientHeight</code> è¢«å®šä¹‰ä¸ºæ•´æ•°ã€‚ å‡è®¾çª—å£çš„å®é™…è®¾å¤‡åƒç´ å®½æ˜¯
999 æ‚¨çš„ devicePixelRatio = 2.0 å¹¶ä¸”æ‚¨è¦æ±‚ 100% å¤§å°çš„ç”»å¸ƒã€‚æ²¡æœ‰ä¸€ä¸ªæ•´æ•°çš„å€¼ç¬¦åˆ * 2.0 = 999.</p>
<p>ä¸‹ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect"><code class="notranslate" translate="no">getBoundingClientRect()</code></a>.
å®ƒè¿”å›ä¸€ä¸ª <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMRect"><code class="notranslate" translate="no">DOMRect</code></a>
åŒ…å« <code class="notranslate" translate="no">width</code> å’Œ <code class="notranslate" translate="no">height</code>ã€‚ å®ƒä¸ç”± <code class="notranslate" translate="no">clientWidth</code> å’Œ <code class="notranslate" translate="no">clientHeight</code> è¡¨ç¤ºçš„å®¢æˆ·ç«¯çŸ©å½¢ç›¸åŒï¼Œä½†å®ƒä¸éœ€è¦æ˜¯æ•´æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç´«è‰²çš„ <code class="notranslate" translate="no">&lt;canvas&gt;</code>ï¼Œè®¾ç½®ä¸ºå®¹å™¨çš„ <code class="notranslate" translate="no">width: 100%</code>ã€‚ ç¼©å°å‡ æ¬¡åˆ° 75% æˆ– 60%ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°å®ƒçš„ <code class="notranslate" translate="no">clientWidth</code> å’Œå®ƒçš„ <code class="notranslate" translate="no">getBoundingClientRect().width</code> ä¸ä¸€æ ·ã€‚</p>
<blockquote>
<div data-diagram="getBoundingClientRect"></div>

</blockquote>
<p>åœ¨æˆ‘çš„æœºå™¨ä¸Šæˆ‘å¾—åˆ°è¿™äº›æ•°å€¼</p>
<pre class="prettyprint notranslate" translate="no"><code class="notranslate" translate="no">Windows 10, zoom level 75%, Chrome
clientWidth: 700
getBoundingClientRect().width = 700.0000610351562

MacOS, zoom level 90%, Chrome
clientWidth: 700
getBoundingClientRect().width = 700.0000610351562

MacOS, zoom level -1, Safari (safari does not show the zoom level)
clientWidth: 700
getBoundingClientRect().width = 699.9999389648438

Firefox, both Windows and MacOS all zoom levels
clientWidth: 700
getBoundingClientRect().width = 700
</code></pre><p>æ³¨æ„ï¼šFirefox åœ¨æ­¤ç‰¹å®šè®¾ç½®ä¸­æ˜¾ç¤º 700ï¼Œä½†é€šè¿‡è¶³å¤Ÿå¤šçš„å„ç§æµ‹è¯•ï¼Œæˆ‘çœ‹åˆ°å®ƒä»<code class="notranslate" translate="no">getBoundingClientRect</code> ç»™å‡ºéæ•´æ•°ç»“æœï¼Œä¾‹å¦‚ä½¿çª—å£å˜å°ï¼Œä»¥ä¾¿ 100% ç”»å¸ƒå°äº 700ï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ª Firefox ä¸Šçš„éæ•´æ•°ç»“æœã€‚</p>
<p>å› æ­¤ï¼Œé‰´äºæ­¤æˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨ <code class="notranslate" translate="no">getBoundingClientRect</code>ã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function resizeCanvasToDisplaySize(canvas) {
  // æŸ¥æ‰¾æµè§ˆå™¨åœ¨ CSS åƒç´ ä¸­æ˜¾ç¤ºç”»å¸ƒçš„å¤§å°ã€‚
  const dpr = window.devicePixelRatio;
-  const displayWidth  = Math.round(canvas.clientWidth * dpr);
-  const displayHeight = Math.round(canvas.clientHeight * dpr);
+  const {width, height} = canvas.getBoundingClientRect();
+  const displayWidth  = Math.round(width * dpr);
+  const displayHeight = Math.round(height * dpr);

  // æ£€æŸ¥ç”»å¸ƒå¤§å°æ˜¯å¦ç›¸åŒã€‚
  const needResize = canvas.width  != displayWidth ||
                     canvas.height != displayHeight;

  if (needResize) {
    // ä½¿ç”»å¸ƒå¤§å°ç›¸åŒ
    canvas.width  = displayWidth;
    canvas.height = displayHeight;
  }

  return needResize;
}
</code></pre>
<p>é‚£ä¹ˆæˆ‘ä»¬å®Œæˆäº†å—ï¼Ÿ æŠ±æ­‰ä¸è¡Œã€‚ äº‹å®è¯æ˜ï¼Œ<code class="notranslate" translate="no">canvas.getBoundingClientRect()</code> ä¸èƒ½æ€»æ˜¯è¿”å›å‡†ç¡®çš„å¤§å°ã€‚ åŸå› å¾ˆå¤æ‚ï¼Œä½†è¿™ä¸æµè§ˆå™¨å†³å®šç»˜åˆ¶äº‹ç‰©çš„æ–¹å¼æœ‰å…³ã€‚ æœ‰äº›éƒ¨åˆ†æ˜¯åœ¨ HTML çº§åˆ«å†³å®šçš„ï¼Œæœ‰äº›éƒ¨åˆ†æ˜¯ç¨ååœ¨â€œåˆæˆå™¨â€çº§åˆ«ï¼ˆå®é™…ç»˜åˆ¶çš„éƒ¨åˆ†ï¼‰å†³å®šçš„ã€‚
<code class="notranslate" translate="no">getBoundingClientRect()</code> å‘ç”Ÿåœ¨ HTML çº§åˆ«ï¼Œä½†ä¹‹åå‘ç”Ÿçš„æŸäº›äº‹æƒ…å¯èƒ½ä¼šå½±å“ç”»å¸ƒå®é™…ç»˜åˆ¶çš„å¤§å°ã€‚</p>
<p>æˆ‘è®¤ä¸ºä¸€ä¸ªä¾‹å­æ˜¯ HTML éƒ¨åˆ†åœ¨æŠ½è±¡ä¸­å·¥ä½œï¼Œè€Œåˆæˆå™¨åœ¨å…·ä½“ä¸­å·¥ä½œã€‚ å› æ­¤ï¼Œå‡è®¾æ‚¨æœ‰ä¸€ä¸ªè®¾å¤‡åƒç´ å®½æ˜¯ 999 å’Œ devicePixelRatio æ˜¯ 2.0 çš„çª—å£ã€‚å°†ä¸¤ä¸ªå…ƒç´ å¹¶æ’è®¾ç½®ä¸º
<code class="notranslate" translate="no">width: 50%</code>ã€‚æ‰€ä»¥ HTML è®¡ç®—å‡ºæ¯ä¸€ä¸ªåº”è¯¥æ˜¯ 499.5 ä¸ªè®¾å¤‡åƒç´ ã€‚ ä½†æ˜¯å½“çœŸæ­£éœ€è¦ç»˜åˆ¶æ—¶ï¼Œåˆæˆå™¨æ— æ³•ç»˜åˆ¶ 499.5 åƒç´ ï¼Œå› æ­¤ä¸€ä¸ªå…ƒç´ è·å¾— 499ï¼Œå¦ä¸€ä¸ªè·å¾— 500ã€‚ä»»ä½•è§„èŒƒéƒ½æœªå®šä¹‰å“ªä¸ªè·å¾—æˆ–ä¸¢å¤±åƒç´ ã€‚</p>
<p>æµè§ˆå™¨ä¾›åº”å•†æå‡ºçš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨
<a href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver"><code class="notranslate" translate="no">ResizeObserver</code> API</a>
å¹¶é€šè¿‡å®ƒæä¾›çš„ <code class="notranslate" translate="no">devicePixelContextBoxSize</code> å±æ€§è·å–åˆ°å®é™…å¤§å°ã€‚å®ƒè¿”å›å®é™…ä½¿ç”¨çš„è®¾å¤‡åƒç´ æ•°ã€‚ è¯·æ³¨æ„ï¼Œå®ƒè¢«ç§°ä¸º <code class="notranslate" translate="no">ContentBox</code> è€Œä¸æ˜¯ <code class="notranslate" translate="no">ClientBox</code> è¿™æ„å‘³ç€å®ƒæ˜¯ç”»å¸ƒå…ƒç´ çš„ <em>content</em> éƒ¨åˆ†ï¼Œå› æ­¤ä¸åƒ<code class="notranslate" translate="no">clientWidth</code>, <code class="notranslate" translate="no">clientHeight</code> å’Œ <code class="notranslate" translate="no">getBoundingClientRect</code> åŒ…å«ç”»å¸ƒçš„å†…é—´è·</p>
<p>å®ƒä»¥å¼‚æ­¥æ–¹å¼è¿”å›ç»“æœã€‚ ä¸Šé¢æåˆ°çš„â€œåˆæˆå™¨â€åœ¨é¡µé¢ä¸­ä»¥å¼‚æ­¥çš„æ–¹å¼è¿è¡Œã€‚ å®ƒå¯ä»¥è®¡ç®—å‡ºå®é™…è¦ä½¿ç”¨çš„å°ºå¯¸ï¼Œç„¶åå°†è¯¥å°ºå¯¸å‘é€ç»™æ‚¨ã€‚</p>
<p>ä¸å¹¸çš„æ˜¯ï¼Œè™½ç„¶æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½å¯ä»¥ä½¿ç”¨ <code class="notranslate" translate="no">ResizeObserver</code>ï¼Œä½†<code class="notranslate" translate="no">devicePixelContentBoxSize</code>ç›®å‰ä»…é€‚ç”¨äº Chrome/Edgeã€‚ è¿™æ˜¯å¦‚ä½•ä½¿ç”¨å®ƒã€‚</p>
<p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code class="notranslate" translate="no">ResizeObserver</code> å¹¶ä¼ é€’ç»™å®ƒä¸€ä¸ªå‡½æ•°ï¼Œä»¥ä¾¿åœ¨è§‚å¯Ÿåˆ°çš„ä»»ä½•å…ƒç´ å¤§å°æ”¹å˜æ—¶è°ƒç”¨å®ƒã€‚ åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ˜¯æˆ‘ä»¬çš„ç”»å¸ƒã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">const resizeObserver = new ResizeObserver(onResize)
resizeObserver.observe(canvas, { box: &#39;content-box&#39; })
</code></pre>
<p>ä¸Šé¢çš„ä»£ç åˆ›å»ºäº†ä¸€ä¸ª <code class="notranslate" translate="no">ResizeObserver</code>ï¼Œå½“è§‚å¯Ÿåˆ°çš„å…ƒç´ æ”¹å˜å¤§å°æ—¶ï¼Œå®ƒå°†è°ƒç”¨å‡½æ•° <code class="notranslate" translate="no">onResize</code>ï¼ˆå¦‚ä¸‹ï¼‰ã€‚æˆ‘ä»¬è®©å®ƒ<code class="notranslate" translate="no">è§‚å¯Ÿ</code>ç”»å¸ƒçš„<code class="notranslate" translate="no">content-box</code>ä½•æ—¶æ”¹å˜å¤§å°ã€‚è¿™å¾ˆé‡è¦ï¼Œä½†æœ‰ç‚¹ä»¤äººå›°æƒ‘ã€‚ æˆ‘ä»¬å¯ä»¥è¦æ±‚å®ƒå‘Šè¯‰æˆ‘ä»¬
<code class="notranslate" translate="no">device-pixel-content-box</code> ä½•æ—¶æ”¹å˜å¤§å°ï¼Œ ä½†è®©æˆ‘ä»¬æƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬æœ‰ä¸€ä¸ªç”»å¸ƒï¼Œå®ƒæ˜¯çª—å£çš„æŸä¸ªç™¾åˆ†æ¯”å¤§å°ï¼Œå°±åƒä¸Šé¢å¸¸è§çš„ 100% çš„è¡Œç¤ºä¾‹ä¸€æ ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ— è®ºç¼©æ”¾çº§åˆ«å¦‚ä½•ï¼Œæˆ‘ä»¬çš„ç”»å¸ƒéƒ½å°†å§‹ç»ˆå…·æœ‰ç›¸åŒæ•°é‡çš„è®¾å¤‡åƒç´ ã€‚ å½“æˆ‘ä»¬ç¼©æ”¾æ—¶çª—å£æ²¡æœ‰æ”¹å˜å¤§å°ï¼Œæ‰€ä»¥ä»ç„¶æœ‰ç›¸åŒæ•°é‡çš„è®¾å¤‡åƒç´ ã€‚ å¦ä¸€æ–¹é¢ï¼Œ<code class="notranslate" translate="no">content-box</code> ä¼šéšç€æˆ‘ä»¬çš„ç¼©æ”¾è€Œæ”¹å˜ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨ CSS åƒç´ æ¥è¡¡é‡çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ç¼©æ”¾æ—¶ï¼Œæˆ–å¤šæˆ–å°‘çš„ CSS åƒç´ é€‚åˆè®¾å¤‡åƒç´ çš„æ•°é‡ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ä¸å…³å¿ƒç¼©æ”¾çº§åˆ«ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åªè§‚å¯Ÿ <code class="notranslate" translate="no">device-pixel-content-box</code>.
å¦‚æœä¸æ”¯æŒå®ƒä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯æ‰€ä»¥æˆ‘ä»¬ä¼šè¿™æ ·åš</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">const resizeObserver = new ResizeObserver(onResize)
try {
    // åªå‘Šè¯‰æˆ‘ä»¬æ”¹å˜çš„è®¾å¤‡åƒç´ æ•°
    resizeObserver.observe(canvas, { box: &#39;device-pixel-content-box&#39; })
} catch (ex) {
    // ä¸æ”¯æŒ device-pixel-content-box æ—¶å›é€€åˆ°è¿™ä¸ª
    resizeObserver.observe(canvas, { box: &#39;content-box&#39; })
}
</code></pre>
<p><code class="notranslate" translate="no">onResize</code> å‡½æ•°å°†ä½¿ç”¨ <a href="https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserverEntry"><code class="notranslate" translate="no">ResizeObserverEntry</code>s</a>æ•°ç»„è°ƒç”¨ã€‚ æ¯å½“å¤§å°æ”¹å˜æ—¶æˆ‘ä»¬å°†æŠŠå°ºå¯¸è®°å½•åˆ° map å¯¹è±¡ä¸­ä»¥ä¾¿æˆ‘ä»¬å¤„ç†å¤šä¸ªå…ƒç´ ã€‚</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">// ä½¿ç”¨é»˜è®¤ç”»å¸ƒå¤§å°è¿›è¡Œåˆå§‹åŒ–
const canvasToDisplaySizeMap = new Map([[canvas, [300, 150]]])

function onResize(entries) {
    for (const entry of entries) {
        let width
        let height
        let dpr = window.devicePixelRatio
        if (entry.devicePixelContentBoxSize) {
            // æ³¨æ„ï¼šåªæœ‰è¿™ä¸ªæ–¹å¼ç»™å‡ºäº†æ­£ç¡®çš„å°ºå¯¸
            // å…¶ä»–æ–¹å¼ç”¨äºä¸æ”¯æŒçš„æµè§ˆå™¨
            width = entry.devicePixelContentBoxSize[0].inlineSize
            height = entry.devicePixelContentBoxSize[0].blockSize
            dpr = 1
        } else if (entry.contentBoxSize) {
            if (entry.contentBoxSize[0]) {
                width = entry.contentBoxSize[0].inlineSize
                height = entry.contentBoxSize[0].blockSize
            } else {
                width = entry.contentBoxSize.inlineSize
                height = entry.contentBoxSize.blockSize
            }
        } else {
            width = entry.contentRect.width
            height = entry.contentRect.height
        }
        const displayWidth = Math.round(width * dpr)
        const displayHeight = Math.round(height * dpr)
        canvasToDisplaySizeMap.set(entry.target, [displayWidth, displayHeight])
    }
}
</code></pre>
<p>è¿™æœ‰ç‚¹ä¹±ã€‚ åœ¨æ”¯æŒ <code class="notranslate" translate="no">devicePixelContentBoxSize</code> ä¹‹å‰ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°è¯¥ API è‡³å°‘æä¾›äº† 3 ä¸ªä¸åŒçš„ç‰ˆæœ¬ ğŸ˜‚
ç°åœ¨æˆ‘ä»¬ä¿®æ”¹è°ƒæ•´å¤§å°çš„å‡½æ•°ä»¥ä½¿ç”¨æ­¤æ•°æ®</p>
<pre class="prettyprint notranslate" translate="no"><code class="lang-js">function resizeCanvasToDisplaySize(canvas) {
-  // æŸ¥æ‰¾æµè§ˆå™¨åœ¨ CSS åƒç´ ä¸­æ˜¾ç¤ºç”»å¸ƒçš„å¤§å°ã€‚
-  const dpr = window.devicePixelRatio;
-  const {width, height} = canvas.getBoundingClientRect();
-  const displayWidth  = Math.round(width * dpr);
-  const displayHeight = Math.round(height * dpr);
+  // è·å–æµè§ˆå™¨åœ¨è®¾å¤‡åƒç´ ä¸­æ˜¾ç¤ºç”»å¸ƒçš„å¤§å°ã€‚
+ const [displayWidth, displayHeight] = canvasToDisplaySizeMap.get(canvas);

  // æ£€æŸ¥ç”»å¸ƒå¤§å°æ˜¯å¦ç›¸åŒã€‚
  const needResize = canvas.width  != displayWidth ||
                     canvas.height != displayHeight;

  if (needResize) {
    // ä½¿ç”»å¸ƒå¤§å°ç›¸åŒ
    canvas.width  = displayWidth;
    canvas.height = displayHeight;
  }

  return needResize;
}
</code></pre>
<p>è¿™æ˜¯ä½¿ç”¨æ­¤ä»£ç çš„ç¤ºä¾‹</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas-hd-dpi.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas-hd-dpi.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>å¯èƒ½å¾ˆéš¾çœ‹å‡ºä»»ä½•å·®å¼‚ã€‚ å¦‚æœæ‚¨æœ‰ HD-DPI æ˜¾ç¤ºå™¨
å°±åƒæ‚¨çš„æ™ºèƒ½æ‰‹æœºæˆ–è‡ª 2019 å¹´ä»¥æ¥çš„æ‰€æœ‰ Mac æˆ– 4k æ˜¾ç¤ºå™¨ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™æ¡çº¿åº”è¯¥æ¯”ä¸Šä¸€ä¸ªç¤ºä¾‹çš„çº¿æ›´ç»†ã€‚</p>
<p>å¦åˆ™ï¼Œå¦‚æœæ‚¨æ”¾å¤§ï¼ˆæˆ‘å»ºè®®æ‚¨åœ¨æ–°çª—å£ä¸­æ‰“å¼€ç¤ºä¾‹ï¼‰ï¼Œå½“æ‚¨æ”¾å¤§çº¿æ¡æ—¶ï¼Œåº”ä¿æŒç›¸åŒçš„åˆ†è¾¨ç‡ï¼Œè€Œå¦‚æœæ”¾å¤§å‰ä¸€ä¸ªç¤ºä¾‹ï¼Œçº¿æ¡å°†å˜å¾—æ›´ç²—ä¸”åˆ†è¾¨ç‡æ›´ä½ï¼Œå› ä¸ºå®ƒæ²¡æœ‰é€‚é… <code class="notranslate" translate="no">devicePixelRatio</code>ã€‚</p>
<p>å°±åƒè¿™é‡Œçš„æµ‹è¯•ä¸€æ ·ï¼Œä¸Šé¢çš„æ‰€æœ‰ 3 ç§æ–¹æ³•éƒ½ä½¿ç”¨ç®€å•çš„ 2d ç”»å¸ƒã€‚ ä¸ºäº†ç®€å•èµ·è§ï¼Œä¸ä½¿ç”¨ WebGLã€‚ ç›¸åï¼Œå®ƒä½¿ç”¨ Canvas 2D å¹¶åˆ¶ä½œ 2 ä¸ªå›¾æ¡ˆï¼Œä¸€ä¸ª 2x2 åƒç´ å‚ç›´é»‘ç™½å›¾æ¡ˆå’Œä¸€ä¸ª 2x2 åƒç´ æ°´å¹³é»‘ç™½å›¾æ¡ˆã€‚ å®ƒåœ¨å·¦ä¾§ç»˜åˆ¶æ°´å¹³å›¾æ¡ˆ â–¤ï¼Œåœ¨å³ä¾§ç»˜åˆ¶å‚ç›´å›¾æ¡ˆ â–¥ã€‚</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-the-canvas-comparison.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-the-canvas-comparison.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>è°ƒæ•´æ­¤çª—å£çš„å¤§å°ï¼Œæˆ–è€…æ›´å¥½çš„æ˜¯ï¼Œåœ¨æ–°çª—å£ä¸­æ‰“å¼€å®ƒå¹¶ä½¿ç”¨å¿«æ·é”®æ”¾å¤§ã€‚ åœ¨ä¸åŒçš„ç¼©æ”¾çº§åˆ«è°ƒæ•´çª—å£å¤§å°ï¼Œå¹¶æ³¨æ„åªæœ‰åº•éƒ¨çš„é‚£ä¸ªé€‚ç”¨äºæ‰€æœ‰æƒ…å†µï¼ˆåœ¨ Chrome/Edge ä¸­ï¼‰ã€‚ è¯·æ³¨æ„ï¼Œæ‚¨è®¾å¤‡çš„<code class="notranslate" translate="no">devicePixelRatio</code>è¶Šé«˜ï¼Œå°±è¶Šéš¾å‘ç°é—®é¢˜ã€‚ æ‚¨åº”è¯¥çœ‹åˆ°çš„æ˜¯å·¦ä¾§å’Œå³ä¾§æ˜¯ä¸å˜çš„ã€‚ å¦‚æœæ‚¨çœ‹åˆ°ç²—ç³™çš„å›¾æ¡ˆæˆ–çœ‹åˆ°ä¸åŒçš„é»‘æš—ï¼ˆå¦‚æ¸å˜ï¼‰ï¼Œåˆ™å®ƒä¸èµ·ä½œç”¨ã€‚ å› ä¸ºå®ƒåªèƒ½åœ¨ Chrome/Edge ä¸­å·¥ä½œï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨é‚£é‡Œå°è¯•çœ‹çœ‹å®ƒæ˜¯å¦å·¥ä½œã€‚</p>
<p>å¦è¯·æ³¨æ„ï¼ŒæŸäº›æ“ä½œç³»ç»Ÿ (MacOS) æä¾›äº†ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº§åˆ«çš„ç¼©æ”¾é€‰é¡¹ï¼Œè¯¥é€‰é¡¹é€šå¸¸å¯¹åº”ç”¨ç¨‹åºéšè—ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨ä¼šåœ¨åº•éƒ¨ç¤ºä¾‹ä¸­çœ‹åˆ°è½»å¾®çš„å›¾æ¡ˆï¼ˆå‡è®¾æ‚¨åœ¨ Chrome/Edge ä¸­ï¼‰ï¼Œä½†å®ƒå°†æ˜¯å¸¸è§„å›¾æ¡ˆã€‚</p>
<p>è¿™å¸¦æ¥äº†åœ¨å…¶ä»–æµè§ˆå™¨ä¸Šæ²¡æœ‰å¥½çš„è§£å†³æ–¹æ¡ˆçš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œæ‚¨éœ€è¦çœŸæ­£çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ å¤§å¤šæ•° WebGL åº”ç”¨ç¨‹åºä¼šåšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚åœ¨ 3D ä¸­ç»˜åˆ¶ä¸€äº›å¸¦æœ‰çº¹ç†å’Œ/æˆ–å…‰ç…§çš„ä¸œè¥¿ã€‚ å› æ­¤ï¼Œé€šå¸¸æˆ‘ä»¬å¿½ç•¥<code class="notranslate" translate="no">devicePixelRatio</code>æˆ–è€…ä½¿ç”¨ <code class="notranslate" translate="no">clientWidth</code>, <code class="notranslate" translate="no">clientHeight</code> æˆ– <code class="notranslate" translate="no">getBoundingClientRect()</code> * <code class="notranslate" translate="no">devicePixelRatio</code></p>
<p>æ­¤å¤–ï¼Œç›²ç›®ä½¿ç”¨<code class="notranslate" translate="no">devicePixelRatio</code>ä¼šé™ä½æ€§èƒ½ã€‚
åœ¨ iPhoneX æˆ– iPhone11 <code class="notranslate" translate="no">window.devicePixelRatio</code> æ˜¯ <code class="notranslate" translate="no">3</code> è¿™æ„å‘³ç€å°†ç»˜åˆ¶ 9 å€çš„åƒç´ ã€‚ åœ¨ Samsung Galaxy S8 è¿™ä¸ªå€¼æ˜¯ <code class="notranslate" translate="no">4</code> è¿™æ„å‘³ç€å°†ç»˜åˆ¶ 16 å€çš„åƒç´ ã€‚ è¿™ä¼šä½¿ç¨‹åºå˜æ…¢ã€‚
äº‹å®ä¸Šï¼Œå®é™…æ¸²æŸ“çš„åƒç´ å°‘äºæ˜¾ç¤ºçš„åƒç´ ï¼Œå¹¶è®© GPU æ”¾å¤§å®ƒä»¬,è¿™æ˜¯æ¸¸æˆä¸­çš„ä¸€ç§å¸¸è§ä¼˜åŒ–ã€‚ è¿™å–å†³äºæ‚¨çš„éœ€æ±‚ã€‚ å¦‚æœæ‚¨æ­£åœ¨ç»˜åˆ¶ç”¨äºæ‰“å°çš„å›¾å½¢ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æ”¯æŒ HD-DPIã€‚ å¦‚æœæ‚¨æ­£åœ¨åˆ¶ä½œæ¸¸æˆï¼Œæ‚¨å¯èƒ½ä¸ä¼šï¼Œæˆ–è€…å¦‚æœç”¨æˆ·çš„ç³»ç»Ÿé€Ÿåº¦ä¸å¤Ÿå¿«ï¼Œæ— æ³•ç»˜åˆ¶å¦‚æ­¤å¤šçš„åƒç´ ã€‚æ‚¨å¯èƒ½å¸Œæœ›è®©ç”¨æˆ·é€‰æ‹©æ‰“å¼€æˆ–å…³é—­æ”¯æŒ HD-DPIã€‚</p>
<p>å¦ä¸€ä¸ªè­¦å‘Šæ˜¯ï¼Œè‡³å°‘åˆ° 2021 å¹´ 1 æœˆä¸ºæ­¢ï¼Œ <code class="notranslate" translate="no">round(getBoundingClientRect * devicePixelRatio)</code> é€‚ç”¨äºæ‰€æœ‰ç°ä»£æµè§ˆå™¨ <strong>å½“å’Œä»…å½“</strong> ç”»å¸ƒå¤§å°é“ºæ»¡çª—å£å¤§å°æ—¶ï¼Œå°±åƒä¸Šé¢çš„çº¿çš„ç¤ºä¾‹,è¿™æ˜¯ä½¿ç”¨è¿™ç§æ¨¡å¼çš„ç¤ºä¾‹</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-the-canvas-comparison-fullwindow.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-the-canvas-comparison-fullwindow.html" target="_blank">ç‚¹æ­¤åœ¨æ–°çª—å£ä¸­æµè§ˆ</a>
</div>

</p>
<p>æ‚¨ä¼šæ³¨æ„åˆ°ï¼Œå¦‚æœæ‚¨ç¼©æ”¾å’Œè°ƒæ•´ <em>å½“å‰é¡µé¢</em> çš„å¤§å°ï¼Œä½¿ç”¨ <code class="notranslate" translate="no">getBoundingClientRect</code> ä¼šè·å–ä¸åˆ°æ­£ç¡®å¤§å°ã€‚
è¿™æ˜¯å› ä¸ºç”»å¸ƒä¸æ˜¯åœ¨å®Œæ•´çš„çª—å£ï¼Œå®ƒåœ¨ iframe ä¸­ã€‚ åœ¨å•ç‹¬çš„çª—å£ä¸­æ‰“å¼€ç¤ºä¾‹ï¼Œå®ƒå°†èµ·ä½œç”¨ã€‚</p>
<p>æ‚¨ä½¿ç”¨å“ªç§è§£å†³æ–¹æ¡ˆå–å†³äºæ‚¨ã€‚ å¯¹æˆ‘æ¥è¯´ï¼Œ99% çš„æ—¶é—´æˆ‘ä¸ä½¿ç”¨<code class="notranslate" translate="no">devicePixelRatio</code>ã€‚ å®ƒä½¿æˆ‘çš„é¡µé¢å˜æ…¢ï¼Œé™¤äº†å°‘æ•°å›¾å½¢ä¸“å®¶å¤–ï¼Œå¤§å¤šæ•°äººä¸ä¼šæ³¨æ„åˆ°å·®å¼‚ã€‚ åœ¨è¿™ä¸ªç«™ç‚¹ä¸Šæœ‰ä¸€äº›å›¾è¡¨ä½¿ç”¨å®ƒï¼Œä½†å¤§å¤šæ•°ç¤ºä¾‹æ²¡æœ‰ã€‚</p>
<p>å¦‚æœæ‚¨æŸ¥çœ‹è®¸å¤š WebGL ç¨‹åºï¼Œå®ƒä»¬ä¼šä»¥è®¸å¤šä¸åŒçš„æ–¹å¼å¤„ç†è°ƒæ•´å¤§å°æˆ–è®¾ç½®ç”»å¸ƒçš„å¤§å°ã€‚
æˆ‘è®¤ä¸ºæœ€å¥½çš„æ–¹æ³•æ˜¯è®©æµè§ˆå™¨é€‰æ‹©å¤§å°ä»¥ä½¿ç”¨ CSS æ˜¾ç¤ºç”»å¸ƒï¼Œç„¶åæŸ¥æ‰¾å®ƒé€‰æ‹©çš„å¤§å°å¹¶è°ƒæ•´ç”»å¸ƒä¸­çš„åƒç´ æ•°ä½œä¸ºå“åº”ã€‚
å¦‚æœä½ å¾ˆå¥½å¥‡ <a href="webgl-anti-patterns.html">ä»¥ä¸‹æ˜¯ä¸€äº›åŸå› </a> æˆ‘è®¤ä¸ºä¸Šè¿°æ–¹å¼æ˜¯æ›´å¯å–çš„æ–¹å¼ã€‚</p>
<!-- just to shut up the build that this link used to exist
     and still exists in older translations -->
<p><a href="webgl-animation.html"></a></p>
<script type="module" src="../resources/webgl-resizing-the-canvas.module.js"></script>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-resizing-the-canvas.html" >English</a>
    <option value="/webgl/lessons/de/webgl-resizing-the-canvas.html" >Deutsch</a>
    <option value="/webgl/lessons/ja/webgl-resizing-the-canvas.html" >æ—¥æœ¬èª</a>
    <option value="/webgl/lessons/ko/webgl-resizing-the-canvas.html" >í•œêµ­ì–´</a>
    <option value="/webgl/lessons/pt-br/webgl-resizing-the-canvas.html" >PortuguÃªs Brasileiro</a>
    <option value="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html" selected>ç®€ä½“ä¸­æ–‡</a>
</select>


        <div id="toc">
          <ul>  <li>åŸºç¡€æ¦‚å¿µ</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-getting-webgl2.html">æ€æ ·ä½¿ç”¨WebGL2</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-fundamentals.html">åŸºæœ¬åŸç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-how-it-works.html">å¦‚ä½•å·¥ä½œçš„</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-shaders-and-glsl.html">ç€è‰²å™¨å’Œ GLSL è¯­è¨€</a></li>
<li><a href="/webgl/lessons/resources/webgl-state-diagram.html?lang=zh_cn">WebGL2 State Diagram</a></li>
        </ul>
  <li>WebGL2 vs WebGL1</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl2-whats-new.html">WebGL2æœ‰ä»€ä¹ˆæ–°å†…å®¹</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl1-to-webgl2.html">è¿ç§»WebGL1åˆ°WebGL2</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl1-to-webgl2-fundamentals.html">WebGLFundamentals.orgå’ŒWebGL2Fundamentals.orgçš„åŒºåˆ«</a></li>
        </ul>
  <li>å›¾åƒå¤„ç†</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-image-processing.html">å›¾åƒå¤„ç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-image-processing-continued.html">è¿›ä¸€æ­¥å¤„ç†å›¾åƒ</a></li>
        </ul>
  <li>äºŒç»´å¹³ç§»ï¼Œæ—‹è½¬ï¼Œç¼©æ”¾å’ŒçŸ©é˜µè¿ç®—</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-2d-translation.html">äºŒç»´å¹³ç§»</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2d-rotation.html">äºŒç»´æ—‹è½¬</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2d-scale.html">äºŒç»´ç¼©æ”¾</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2d-matrices.html">äºŒç»´çŸ©é˜µ</a></li>
        </ul>
  <li>ä¸‰ç»´</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-3d-orthographic.html">ä¸‰ç»´æ­£å°„æŠ•å½±</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-3d-perspective.html">ä¸‰ç»´é€è§†æŠ•å½±</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-3d-camera.html">ä¸‰ç»´ç›¸æœº</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-matrix-naming.html">WebGL2 ä¸‰ç»´çŸ©é˜µå‘½å</a></li>
        </ul>
  <li>å…‰ç…§</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-3d-lighting-directional.html">ä¸‰ç»´æ–¹å‘å…‰æº</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-3d-lighting-point.html">ç‚¹å…‰æº</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-3d-lighting-spot.html">èšå…‰ç¯</a></li>
        </ul>
  <li>ç»„ç»‡å’Œé‡æ„</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-less-code-more-fun.html">ç å°‘è¶£å¤š</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-drawing-multiple-things.html">ç»˜åˆ¶å¤šä¸ªç‰©ä½“</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-scene-graph.html">åœºæ™¯å›¾</a></li>
        </ul>
  <li>å‡ ä½•</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-3d-geometry-lathe.html">ä¸‰ç»´å‡ ä½•åŠ å·¥</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-load-obj.html">åŠ è½½ .obj æ–‡ä»¶</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-load-obj-w-mtl.html">åŠ è½½å¸¦ .mtl çš„ .obj æ–‡ä»¶</a></li>
        </ul>
  <li>çº¹ç†</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-3d-textures.html">çº¹ç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-data-textures.html">æ•°æ®çº¹ç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2-textures.html">ä½¿ç”¨å¤šä¸ªçº¹ç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-cors-permission.html">è·¨åŸŸå›¾åƒ</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-3d-perspective-correct-texturemapping.html">çº¹ç†æ˜ å°„çš„é€è§†çº æ­£</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-planar-projection-mapping.html">å¹³é¢çš„å’Œé€è§†çš„æŠ•å½±æ˜ å°„</a></li>
        </ul>
  <li>æ¸²æŸ“åˆ°çº¹ç†</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-render-to-texture.html">æ¸²æŸ“åˆ°çº¹ç†</a></li>
        </ul>
  <li>é˜´å½±</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-shadows.html">é˜´å½±</a></li>
        </ul>
  <li>æŠ€æœ¯</li>
        <ul>
            <li>äºŒç»´</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-2d-drawimage.html">äºŒç»´ DrawImage</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2d-matrix-stack.html">äºŒç»´çŸ©é˜µæ ˆ</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-sprites.html">ç²¾çµ</a></li>
        </ul>
  <li>ä¸‰ç»´</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-cube-maps.html">WebGL2 ç«‹æ–¹ä½“è´´å›¾</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-environment-maps.html">WebGL2 ç¯å¢ƒè´´å›¾</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-skybox.html">WebGL2 å¤©ç©ºç›’</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-skinning.html">WebGL2 è’™çš®</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-fog.html">WebGL2 é›¾</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-picking.html">Picking (clicking on stuff)</a></li>
        </ul>
  <li>æ–‡å­—</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-text-html.html">æ–‡å­— - HTML</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-text-canvas2d.html">æ–‡å­— - äºŒç»´ Canvas</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-text-texture.html">æ–‡å­— - ä½¿ç”¨çº¹ç†</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-text-glyphs.html">æ–‡å­— - ä½¿ç”¨å­—å½¢çº¹ç†</a></li>
        </ul>
  <li>GPGPU</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-gpgpu.html">GPGPU</a></li>
        </ul>
        </ul>
  <li>æŠ€å·§</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-smallest-programs.html">æœ€å°çš„ç¨‹åº</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-drawing-without-data.html">Drawing Without Data</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-shadertoy.html">Shadertoy</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>ä¼˜åŒ–</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-indexed-vertices.html">é¡¶ç‚¹ç´¢å¼• (gl.drawElements)</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-instanced-drawing.html">å®ä¾‹åŒ–ç»˜åˆ¶</a></li>
        </ul>
  <li>æ‚é¡¹</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-setup-and-installation.html">è®¾ç½®å’Œå®‰è£…</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-boilerplate.html">æ ·æ¿</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html">é‡ç½®ç”»å¸ƒå°ºå¯¸</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-animation.html">Animation</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-points-lines-triangles.html">Points, Lines, and Triangles</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-and-alpha.html">WebGL2 and Alpha</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-2d-vs-3d-library.html">2D vs 3D libraries</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-anti-patterns.html">Anti-Patterns</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-matrix-vs-math.html">WebGL2 Matrices vs Math Matrices</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-precision-issues.html">Precision Issues</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-tips.html#screenshot">Taking a screenshot</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-tips.html#preservedrawingbuffer">Prevent the Canvas Being Cleared</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-tips.html#tabindex">Get Keyboard Input From a Canvas</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-tips.html#html-background">Use WebGL2 as Background in HTML</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-cross-platform-issues.html">Cross Platform Issues</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-qna.html">Questions and Answers</a></li>
        </ul>
  <li>å‚è€ƒ</li>
        <ul>
          <li><a href="/webgl/lessons/zh_cn/webgl-attributes.html">Attributes</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-texture-units.html">Texture Units</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-framebuffers.html">Framebuffers</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-readpixels.html">readPixels</a></li>
<li><a href="/webgl/lessons/zh_cn/webgl-references.html">References</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">APIå¸®åŠ©æ–‡æ¡£</a></li>
  <li><a href="https://twgljs.org">TWGLï¼Œä¸€ä¸ªè½»é‡çº§WebGLè¾…åŠ©åº“</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl2-fundamentals">GitHub</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        
    <div>æœ‰æ„è§æˆ–å»ºè®®? <a href="https://github.com/gfxfundamentals/webgl2-fundamentals/issues">åœ¨GitHubä¸Šæissue</a>.</div>
  

        <div id="disqus_thread"></div>
        <script>
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webgl2fundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸';
            var disqus_title = 'WebGL2 é‡ç½®ç”»å¸ƒå°ºå¯¸';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script>
const settings = {
  contribTemplate: "æ„Ÿè°¢ <a href=\"${html_url}\"><img src=\"${avatar_url}\"> ${login}</a><br>çš„ <a href=\"https://github.com/${owner}/${repo}/commits?author=${login}\">${contributions} ä¸ªè´¡çŒ®</a>",
  owner: "gfxfundamentals",
  repo: "webgl2-fundamentals",
};
</script>
<script src="/contributors.js"></script>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js" type="module"></script>
<script>
(function() {
  if (window.location.hostname.indexOf("webgl2fundamentals.org") < 0) {
      return;
  }

  function addScript(src, type, fn) {
    const script = document.createElement('script');
    const firstScript = document.getElementsByTagName('script')[0];
    script.async = true;
    script.defer = true;
    script.type = type || 'javascript';
    if (fn) {
      script.addEventListener('load', fn);
    }
    script.src = src;
    firstScript.parentNode.insertBefore(script, firstScript);
  }

  // can't do this because it would eat contexts
  //addScript('//gpustats.org/stats.js', 'module');

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90754717-1', 'auto');
  ga('send', 'pageview');
}());
</script>


</html>



